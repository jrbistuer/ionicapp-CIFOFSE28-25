<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">profile</ion-title>
    </ion-toolbar>
  </ion-header>

  <h1>Pàgina PROFILE</h1>

  @if (profileForm !== undefined) {
    <form [formGroup]="profileForm" id="profileForm" name="profileForm">

      <div id="avatar-container">
        <ion-avatar (click)="changeImage()">
          <img *ngIf="user?.avatar; else placheolder_avatar;" [src]="user.avatar" />
          <ng-template #placheolder_avatar>
            <div class="fallback">
              <p>Select avatar</p>
            </div>
          </ng-template>
        </ion-avatar>
      </div>

      <ion-item>
        <ion-label>Autor:</ion-label>
        <ion-input [formControlName]="'nom'" name="nom" id="nom"></ion-input>
      </ion-item>
      <br>

      <ion-item>
        <ion-label>Cognoms:</ion-label>
        <ion-input [formControlName]="'cognoms'" name="cognoms" id="cognoms"></ion-input>
      </ion-item>
      <br>

      <ion-item>
        <ion-label>Email:</ion-label>
        <ion-input [formControlName]="'email'" name="email" id="email"></ion-input>
      </ion-item>
      <br>

      <ion-item>
        <ion-label>Geolocalització:</ion-label>
        <ion-input [formControlName]="'geolocalitzacio'" name="geolocalitzacio" id="geolocalitzacio"></ion-input>
      </ion-item>
      <br>

      <ion-button expand="full" type="button" (click)="saveProfile()">Guardar perfil</ion-button>

    </form>
  }

</ion-content>
